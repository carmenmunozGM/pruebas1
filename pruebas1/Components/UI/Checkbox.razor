@* Componente de Checkbox Reutilizable *@

<div class="checkbox-container @Class">
    <label class="checkbox-label">
        <input 
            type="checkbox" 
            class="checkbox-input"
            checked="@Checked"
            disabled="@Disabled"
            @onchange="HandleChange" />
        <span class="checkbox-custom">
            @if (Checked)
            {
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                    <path d="M10 3L4.5 8.5L2 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            }
        </span>
        @if (ChildContent != null)
        {
            <span class="checkbox-text">@ChildContent</span>
        }
    </label>
</div>

@code {
    [Parameter] public bool Checked { get; set; }
    [Parameter] public EventCallback<bool> CheckedChanged { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool Disabled { get; set; } = false;
    [Parameter] public string Class { get; set; } = "";

    private async Task HandleChange(ChangeEventArgs e)
    {
        if (!Disabled && e.Value is bool newValue)
        {
            Checked = newValue;
            await CheckedChanged.InvokeAsync(newValue);
        }
    }
}
